<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Game</title>
    <script type="text/javascript">
      
      var nstage_x = 20; 
      var nstage_y = 15; 
      var interval = 32;

      function charaData(hp, power, skill){
        this.hp = hp;
        this.power = power;
        this .skill = skill;
      }

      function enermyData(hp, power){
        this.hp = hp;
        this.power = power;
      }


      function drawStage( ctx ){
        for( var i = nstage_y*0.5; i < nstage_y; i++ ){
	  for( var j = 0; j < nstage_x; j++ ){
            ctx.fillStyle = 'rgb(0, 0, 0)';
	    ctx.fillRect( j*interval, i*interval, interval, interval);
          }
        }
      }

      function drawData( ctx, chara_data, enermy_data){
      ctx.font = "26px 'ＭＳ Ｐゴシック'";
      ctx.fillStyle = "yellow";
      ctx.fillText("Player", 3*interval, 9*interval);
      ctx.fillText("Enermy", 13*interval, 9*interval);
      ctx.fillStyle = "white";
      ctx.fillText("HP      "+chara_data.hp, 3*interval, 11*interval);
      ctx.fillText("HP      "+enermy_data.hp, 13*interval, 11*interval);
      }	      

      document.onkeydown = keydown;
      
      function keydown() {
      
        if(event.keyCode == 13){ //Enter
        
        }
        if(event.keyCode == 38){ //up
        
        }
        if(event.keyCode == 40){ //down
        
        }
        if(event.keyCode == 39){ //right
                
        }
        if(event.keyCode == 37){  //left
       
        }
      }
      
      function init(){
        var canvas = document.getElementById('canvas');
        ctx = canvas.getContext('2d');
        drawStage(ctx);

        var img = new Image();
        img.src = "picture/chara_32*32.jpg";
        ctx.drawImage(img, 6*interval, 4*interval);
        var img2 = new Image();
        img2.src = "picture/boss.jpg";
        ctx.drawImage(img2, 12*interval, 3*interval);

        var chara_data= new charaData(50, 10, 1);
        var enermy_data = new enermyData(100,8);

        drawData( ctx, chara_data, enermy_data );
      }

    </script>
    <style type="text/css">
      canvas { border: 1px solid #000; }
    </style>
  </head>
  <body onload="init()">
    <canvas id="canvas" width="640" height="480"></canvas>
    <div id="message"></div>
  </body>
</html>
